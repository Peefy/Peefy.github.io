<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.5.0 plugin-docs plugin-id-default docs-doc-id-reference/lang/spec/modules">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Modules | KCL programming language.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kcl-lang.github.io/zh-CN/docs/0.5.0/reference/lang/spec/modules"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="0.5.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.5.0"><meta data-rh="true" name="docsearch:version" content="0.5.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.5.0"><meta data-rh="true" property="og:title" content="Modules | KCL programming language."><meta data-rh="true" name="description" content="Modules"><meta data-rh="true" property="og:description" content="Modules"><link data-rh="true" rel="icon" href="/zh-CN/favicon.ico"><link data-rh="true" rel="canonical" href="https://kcl-lang.github.io/zh-CN/docs/0.5.0/reference/lang/spec/modules"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/docs/0.5.0/reference/lang/spec/modules" hreflang="en"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/zh-CN/docs/0.5.0/reference/lang/spec/modules" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/docs/0.5.0/reference/lang/spec/modules" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://I3BKOKGSD5-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="KCL programming language. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="KCL programming language. Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="KCL programming language." href="/zh-CN/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MZD1X1PB2Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MZD1X1PB2Q",{anonymize_ip:!0})</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/zh-CN/assets/css/styles.422dec21.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.66e9b8ae.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.4fd074a2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Give us a star ⭐️ - If you are using KCL or think it is an interesting project, we would love a star and record on <a target="_blank" rel="noopener noreferrer" href="https://github.com/kcl-lang/kcl">Github</a> and <a target="_blank" rel="noopener noreferrer" href="https://github.com/kcl-lang/kcl/issues/578">Record Issue</a></div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/kcl-logo.png" alt="KCL Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-CN/img/kcl-logo.png" alt="KCL Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" docid="intro/kcl-intro" href="/zh-CN/docs/0.5.0/user_docs/getting-started/">使用文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/docs/0.5.0/reference/lang/tour">参考手册</a><a class="navbar__item navbar__link" href="/zh-CN/docs/0.5.0/tools/cli/">工具</a><a href="https://artifacthub.io/packages/search?kind=20&amp;sort=relevance&amp;page=1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="packages">软件包<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="http://play.kcl-lang.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="playground">游乐场<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/kcl-lang/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="examples">样例<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/zh-CN/docs/0.5.0/community/intro/">社区</a><a class="navbar__item navbar__link" href="/zh-CN/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-CN/docs/0.5.0/tools/cli/">0.5.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-CN/docs/next/reference/lang/spec/modules">Next</a></li><li><a class="dropdown__link" href="/zh-CN/docs/reference/lang/spec/modules">0.6.0</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.6/reference/lang/spec/modules">0.5.6</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.5/reference/lang/spec/modules">0.5.5</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.4/reference/lang/spec/modules">0.5.4</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.3/reference/lang/spec/modules">0.5.3</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.2/reference/lang/spec/modules">0.5.2</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.1/reference/lang/spec/modules">0.5.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh-CN/docs/0.5.0/reference/lang/spec/modules">0.5.0</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.6/reference/lang/spec/modules">0.4.6</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.5/reference/lang/spec/modules">0.4.5</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.4/reference/lang/spec/modules">0.4.4</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.3/reference/lang/spec/modules">0.4.3</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/docs/0.5.0/reference/lang/spec/modules" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-CN/docs/0.5.0/reference/lang/spec/modules" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="https://github.com/kcl-lang/kcl-lang.io/issues/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently 浅色模式)" aria-label="Switch between dark and light mode (currently 浅色模式)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="滚动回顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh-CN/docs/0.5.0/reference/lang/tour">教程</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/tour">KCL 之旅</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/codelab/">代码实验室</a><button aria-label="Toggle the collapsible sidebar category &#x27;代码实验室&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/">语言规范</a><button aria-label="Toggle the collapsible sidebar category &#x27;语言规范&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/codestyle">Code Style</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/datatypes">Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/error">Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/expressions">Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/kcl-spec">KCL Spec</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/lexical">Lexical</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/modules">Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/schema">Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/statements">Statements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/spec/variables">Variables</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/error/">错误与警告</a><button aria-label="Toggle the collapsible sidebar category &#x27;错误与警告&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/0.5.0/reference/lang/types/">Types</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh-CN/docs/0.5.0/reference/model/">系统模块</a><button aria-label="Toggle the collapsible sidebar category &#x27;系统模块&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-CN/docs/0.5.0/reference/package-management/command-reference/">Package Management Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh-CN/docs/0.5.0/reference/plugin/">插件系统</a><button aria-label="Toggle the collapsible sidebar category &#x27;插件系统&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh-CN/docs/0.5.0/reference/xlang-api/">多语言集成</a><button aria-label="Toggle the collapsible sidebar category &#x27;多语言集成&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/0.5.0/reference/cheatsheets/">Cheat Sheet</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->KCL programming language.<!-- --> <b>0.5.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/zh-CN/docs/reference/lang/spec/modules">最新版本</a></b> (<!-- -->0.6.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">教程</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh-CN/docs/0.5.0/reference/lang/spec/"><span itemprop="name">语言规范</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Modules</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本: 0.5.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Modules</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modules-and-the-import-system">Modules and the Import System<a href="#modules-and-the-import-system" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>KCL code is organized in <strong>modules</strong>. For code in one module to access the code defined in another module, a process called <strong>importing</strong> must be used.</p><p>Importing is undertaken at compile-time in KCL. The advantage is to have static checking enabled.</p><p>A regular KCL module is a file on the file system. It is required to have a <code>.k</code> suffix.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packages">Packages<a href="#packages" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>To help manage modules and provide a naming hierarchy, KCL has the concept of packages. In KCL, a package maps to exactly a file system directory, and a regular module maps to a file.</p><p>Files directly under a package are considered parts of the package, instead of individual regular modules.</p><p>Packages can have sub-packages.</p><p>Packages are special modules:</p><ul><li>All packages in KCL are modules.</li><li>A single-file module can never be a package.</li></ul><p>All modules have a name.</p><p>Sub package names are separated from their parent package name by dots.</p><p>To summary, a regular KCL module is a <code>.k</code> file, and a package is a directory on the file system. All <code>.k</code> files directly under the directory are included in the package, other files are ignored. If the directory has subdirectories, they become sub-packages as long as there are <code>.k</code> files underneath.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="intra-package-name-space-sharing">Intra-Package Name Space Sharing<a href="#intra-package-name-space-sharing" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Inside a package, all <code>.k</code> files are considered parts of the package, instead of regular modules. Code in these files share a single name space and can access names defined in other files, without explicitly granted.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-initialization">Package Initialization<a href="#package-initialization" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>A package can have the initialization code. The code must exist in only one of the <code>.k</code> files under this package. The interpreter guarantees that the initialization code is executed after all definitions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="searching">Searching<a href="#searching" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>The searching begins when an <code>import</code> statement is used to import a module.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="module-cache">Module Cache<a href="#module-cache" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>In KCL, only standard system modules are cached. When a cached module is imported, the cached version is used. In other words, KCL runtime would not create another copy of the standard system module in memory.</p><p>However, other modules are uncached. Importing a module multiple time would create multiple instances of the module.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="module-names">Module Names<a href="#module-names" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>An <code>import</code> statement specifies the name of the module to import. The syntax is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &lt;module_name&gt; [as &lt;alias name&gt;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The rule to search with the module name is very simple:</p><ul><li><strong>Step 1</strong>: Searches the module name from the <strong>standard system modules</strong>, then <strong>plugins modules</strong>.<ul><li>See <strong>standard system modules</strong> and <strong>plugins modules</strong> for more details. If matched, the module is imported. Otherwise, continue to <strong>Step 2</strong>.</li></ul></li><li><strong>Step 2</strong>. Whether a module name starts with a <code>.</code> is checked. If yes, the name is a so-called relative pathname, and we go to <strong>Step 5</strong>. Otherwise, continue to <strong>Step 3</strong>.</li><li><strong>Step 3</strong>: If the module name does not start with any <code>.</code>, then the compiler searches the nearest <code>root path</code> directory from this directory to the parent, and find  the module according to the name just from the <code>root path</code>. If no <code>root path</code> is found, find the module according to the name from the folder the <code>.k</code> file including this <code>import</code> statement exists.<ul><li><strong>root path</strong>: the directory contains a <code>kcl.mod</code> file. If matched, the module is imported. Otherwise, continue to <strong>Step 4</strong>.</li></ul></li><li><strong>Step 4</strong>: Then the compiler checks if the name is the name of any library module that requires explicit loading. If matched, the library module is imported. Otherwise, continue to <strong>Step 6</strong>.</li><li><strong>Step 5</strong>. For relative importing, find the module according to the name from the folder the <code>.k</code> file including this <code>import</code> statement exists. Interpret leading dots using the following rule:</li><li>One dot: Ignore.</li><li>Tow or more dots: Suppose there are <code>n</code> leading dots, then the searching starts at <code>n - 1</code> levels above this folder. If matched, the module is imported. Otherwise, continue to <strong>Step 6</strong>.</li><li><strong>Step 6</strong>. Module not found, report an error.</li></ul><p>Do case-sensitive search when the operating system allows. If case-sensitive search is not allowed, search directories before regular files.</p><p>In KCL, the <code>from &lt;&gt; import &lt;&gt;</code> is unsupported, and relative import is performed with the <code>import &lt;&gt;</code> syntax.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="uniqueness-of-module">Uniqueness of Module<a href="#uniqueness-of-module" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Each module has a unique location path in its scope, so that a module or package could be located with a unique location path, such as <code>a.b.c</code>.</p><p>Searching by location path should be supported by the kcl compiler, which needs to provide corresponding searching features through the command line and api form.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="standard-system-packages">Standard System Packages<a href="#standard-system-packages" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>KCL supports a few standard system modules. The following is the full list of these standard system modules:</p><table><tr><td><b>Package</b></td><td><b>Member</b></td></tr><tr><td rowspan="4">datetime</td><td>today</td></tr><tr><td>now</td></tr><tr><td>ticks</td></tr><tr><td>date</td></tr><tr><td rowspan="16">math</td><td>ceil</td></tr><tr><td>exp</td></tr><tr><td>expm1</td></tr><tr><td>factorial</td></tr><tr><td>floor</td></tr><tr><td>gcd</td></tr><tr><td>isfinite</td></tr><tr><td>isinf</td></tr><tr><td>isnan</td></tr><tr><td>log</td></tr><tr><td>log1p</td></tr><tr><td>log2</td></tr><tr><td>log10</td></tr><tr><td>modf</td></tr><tr><td>pow</td></tr><tr><td>sqrt</td></tr><tr><td rowspan="6">regex</td><td>replace</td></tr><tr><td>match</td></tr><tr><td>compile</td></tr><tr><td>findall</td></tr><tr><td>search</td></tr><tr><td>split</td></tr><tr><td rowspan="27">units</td><td>n</td></tr><tr><td>u</td></tr><tr><td>m</td></tr><tr><td>k</td></tr><tr><td>K</td></tr><tr><td>M</td></tr><tr><td>G</td></tr><tr><td>T</td></tr><tr><td>P</td></tr><tr><td>Ki</td></tr><tr><td>Mi</td></tr><tr><td>Gi</td></tr><tr><td>Ti</td></tr><tr><td>Pi</td></tr><tr><td>to_n</td></tr><tr><td>to_u</td></tr><tr><td>to_m</td></tr><tr><td>to_K</td></tr><tr><td>to_M</td></tr><tr><td>to_G</td></tr><tr><td>to_T</td></tr><tr><td>to_P</td></tr><tr><td>to_Ki</td></tr><tr><td>to_Mi</td></tr><tr><td>to_Gi</td></tr><tr><td>to_Ti</td></tr><tr><td>to_Pi</td></tr><tr><td rowspan="3">json</td><td>encode</td></tr><tr><td>decode</td></tr><tr><td>dump_to_file</td></tr><tr><td rowspan="3">yaml</td><td>encode</td></tr><tr><td>decode</td></tr><tr><td>dump_to_file</td></tr><tr><td rowspan="16">net</td><td>split_host_port</td></tr><tr><td>join_host_port</td></tr><tr><td>fqdn</td></tr><tr><td>parse_IP</td></tr><tr><td>to_IP4</td></tr><tr><td>to_IP16</td></tr><tr><td>IP_string</td></tr><tr><td>is_IPv4</td></tr><tr><td>is_IP</td></tr><tr><td>is_loopback_IP</td></tr><tr><td>is_multicast_IP</td></tr><tr><td>is_interface_local_multicast_IP</td></tr><tr><td>is_link_local_multicast_IP</td></tr><tr><td>is_link_local_unicast_IP</td></tr><tr><td>is_global_unicast_IP</td></tr><tr><td>is_unspecified_IP</td></tr><tr><td rowspan="2">base64</td><td>encode</td></tr><tr><td>decode</td></tr><tr><td rowspan="6">crypto</td><td>md5</td></tr><tr><td>sha1</td></tr><tr><td>sha224</td></tr><tr><td>sha256</td></tr><tr><td>sha384</td></tr><tr><td>sha512</td></tr></table><ul><li>datetime<ul><li>ticks() -&gt; float
Return the current time in seconds since the Epoch. Fractions of a second may be present if the system clock provides them.</li><li>date() -&gt; str
return the <code>%Y-%m-%d %H:%M:%S</code> format date.</li><li>now() -&gt; str
return the local time. e.g. <code>&#x27;Sat Jun 06 16:26:11 1998&#x27;</code></li><li>today() -&gt; str
return the <code>%Y-%m-%d %H:%M:%S.%{ticks}</code> format date.</li></ul></li><li>math<ul><li>ceil(x) -&gt; int
Return the ceiling of x as an Integral. This is the smallest integer &gt;= x.</li><li>factorial(x) -&gt; int
Return x!. Raise a error if x is negative or non-integral.</li><li>floor(x) -&gt; int
Return the floor of x as an Integral. This is the largest integer &lt;= x.</li><li>gcd(a: int, b: int) -&gt; int
Return the greatest common divisor of x and y</li><li>isfinite(x) -&gt; bool
Return True if x is neither an infinity nor a NaN, and False otherwise.</li><li>isinf(x) -&gt; bool
Return True if x is a positive or negative infinity, and False otherwise.</li><li>isnan(x) -&gt; bool
Return True if x is a NaN (not a number), and False otherwise.</li><li>modf(x) -&gt; Listfloat, float]
Return the fractional and integer parts of x. Both results carry the sign of x and are floats.</li><li>exp(x) -&gt; float
Return e raised to the power of x.</li><li>expm1(x) -&gt; float
Return exp(x)-1. This function avoids the loss of precision involved in the direct evaluation of exp(x)-1 for small x.</li><li>log(x, base=2.71828182845904523536028747135266250) -&gt; float
Return the logarithm of x to the base e.</li><li>log1p(x) -&gt; float
Return the natural logarithm of 1+x (base e). The result is computed in a way which is accurate for x near zero.</li><li>log2(x) -&gt; float
Return the base 2 logarithm of x.</li><li>log10(x) -&gt; float
Return the base 10 logarithm of x.</li><li>pow(x, y) -&gt; float
Return x**y (x to the power of y).</li><li>sqrt(x) -&gt; float
Return the square root of x.</li></ul></li><li>regex<ul><li>replace(string: str, pattern: str, replace: str, count=0) -&gt; str
Return the string obtained by replacing the leftmost non-overlapping occurrences of the pattern in string by the replacement.</li><li>match(string: str, pattern: str) -&gt; bool
Try to apply the pattern at the start of the string, returning a bool value True if any match was found, or False if no match was found.</li><li>compile(pattern: str) -&gt; bool
Compile a regular expression pattern, returning a bool value denoting whether the pattern is valid.</li><li>findall(string: str, pattern: str) -&gt; List<!-- -->[str]<!-- -->
Return a list of all non-overlapping matches in the string.</li><li>search(string: str, pattern: str) -&gt; bool
Scan through string looking for a match to the pattern, returning a bool value True if any match was found, or False if no match was found.</li><li>split(string: str, pattern: str, maxsplit=0) -&gt; List<!-- -->[str]<!-- -->
Scan through string looking for a match to the pattern, returning a Match object, or None if no match was found.</li></ul></li><li>units<ul><li>Unit constants<ul><li>Fixed point: <code>n</code>, <code>u</code>, <code>m</code>, <code>k</code>, <code>K</code>, <code>G</code>, <code>T</code> and <code>P</code>.</li><li>Power of 2: <code>Ki</code>, <code>Mi</code>, <code>Gi</code>, <code>Ti</code> and <code>Pi</code>.</li></ul></li><li>Functions<ul><li>to_n(num: int) -&gt; str
Int literal to string with <code>n</code> suffix</li><li>to_u(num: int) -&gt; str
Int literal to string with <code>u</code> suffix</li><li>to_m(num: int) -&gt; str
Int literal to string with <code>m</code> suffix</li><li>to_K(num: int) -&gt; str
Int literal to string with <code>K</code> suffix</li><li>to_M(num: int) -&gt; str
Int literal to string with <code>M</code> suffix</li><li>to_G(num: int) -&gt; str
Int literal to string with <code>G</code> suffix</li><li>to_T(num: int) -&gt; str
Int literal to string with <code>T</code> suffix</li><li>to_P(num: int) -&gt; str
Int literal to string with <code>P</code> suffix</li><li>to_Ki(num: int) -&gt; str
Int literal to string with <code>Ki</code> suffix</li><li>to_Mi(num: int) -&gt; str
Int literal to string with <code>Mi</code> suffix</li><li>to_Gi(num: int) -&gt; str
Int literal to string with <code>Gi</code> suffix</li><li>to_Ti(num: int) -&gt; str
Int literal to string with <code>Ti</code> suffix</li><li>to_Pi(num: int) -&gt; str
Int literal to string with <code>Pi</code> suffix</li></ul></li></ul></li><li>json<ul><li>encode(data: any, sort_keys: bool = False, indent: int = None, ignore_private: bool = False, ignore_none: bool = False) -&gt; str
Serialize a KCL object <code>data</code> to a JSON formatted str.</li><li>decode(value: str) -&gt; any
Deserialize <code>value</code> (a string instance containing a JSON document) to a KCL object.</li><li>dump_to_file(data: any, filename: str, ignore_private: bool = False, ignore_none: bool = False) -&gt; None
Serialize a KCL object <code>data</code> to a JSON formatted str and write it into the file <code>filename</code>.</li></ul></li><li>yaml<ul><li>encode(data: any, sort_keys: bool = False, ignore_private: bool = False, ignore_none: bool = False) -&gt; str
Serialize a KCL object <code>data</code> to a YAML formatted str.</li><li>decode(value: str) -&gt; any
Deserialize <code>value</code> (a string instance containing a YAML document) to a KCL object.</li><li>dump_to_file(data: any, filename: str, ignore_private: bool = False, ignore_none: bool = False) -&gt; None
Serialize a KCL object <code>data</code> to a YAML formatted str and write it into the file <code>filename</code>.</li></ul></li><li>net<ul><li>split_host_port(ip_end_point: str) -&gt; List<!-- -->[str]<!-- -->
Split the &#x27;host&#x27; and &#x27;port&#x27; from the ip end point.</li><li>join_host_port(host, port) -&gt; str
Merge the &#x27;host&#x27; and &#x27;port&#x27;.</li><li>fqdn(name: str = &#x27;&#x27;) -&gt; str
Return Fully Qualified Domain Name (FQDN).</li><li>parse_IP(ip) -&gt; str
Parse &#x27;ip&#x27; to a real IP address</li><li>to_IP4(ip) -&gt; str
Get the IP4 form of &#x27;ip&#x27;.</li><li>to_IP16(ip) -&gt; int
Get the IP16 form of &#x27;ip&#x27;.</li><li>IP_string(ip: str | int) -&gt; str
Get the IP string.</li><li>is_IPv4(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a IPv4 one.</li><li>is_IP(ip: str) -&gt; bool
Whether ip is a valid ip address.</li><li>is_loopback_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a loopback one.</li><li>is_multicast_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a multicast one.</li><li>is_interface_local_multicast_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a interface, local and multicast one.</li><li>is_link_local_multicast_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a link local and multicast one.</li><li>is_link_local_unicast_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a link local and unicast one.</li><li>is_global_unicast_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a global and unicast one.</li><li>is_unspecified_IP(ip: str) -&gt; bool
Whether &#x27;ip&#x27; is a unspecified one.</li></ul></li><li>base64<ul><li>encode(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encode the string <code>value</code> using the codec registered for encoding.</li><li>decode(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Decode the string <code>value</code> using the codec registered for encoding.</li></ul></li><li>crypto<ul><li>md5(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encrypt the string <code>value</code> using <code>MD5</code> and the codec registered for encoding.</li><li>sha1(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encrypt the string <code>value</code> using <code>SHA1</code> and the codec registered for encoding.</li><li>sha224(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encrypt the string <code>value</code> using <code>SHA224</code> and the codec registered for encoding.</li><li>sha256(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encrypt the string <code>value</code> using <code>SHA256</code> and the codec registered for encoding.</li><li>sha384(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encrypt the string <code>value</code> using <code>SHA384</code> and the codec registered for encoding.</li><li>sha512(value: str, encoding: str = &quot;utf-8&quot;) -&gt; str
Encrypt the string <code>value</code> using <code>SHA512</code> and the codec registered for encoding.</li></ul></li><li>manifests<ul><li><code>yaml_stream(values: [any], opts: {str:} = {sort_keys = False, ignore_private = True, ignore_none = False, sep = &quot;---&quot;}</code>. This function is used to serialize the KCL object list into YAML output with the <code>---</code> separator</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-built-in-system-package">The Built-in System Package<a href="#the-built-in-system-package" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>KCL provides a list of built-in system modules, which are loaded automatically and can be directly used without providing any module name. For example, <code>print</code> is a widely used built-in module.</p><p>The following is the full list of these built-in system modules:</p><ul><li>print()<ul><li>The print function.</li></ul></li><li>multiplyof(a, b)<ul><li>Check if the modular result of a and b is 0</li></ul></li><li>isunique(inval)<ul><li>Check if a list has duplicated elements</li></ul></li><li>len(inval)
Return the length of a value</li><li>abs(x)
Return the absolute value of the argument.</li><li>all(iterable)
Return True if bool(x) is True for all values x in the iterable. If the iterable is empty, return True.</li><li>any(iterable)
Return True if bool(x) is True for any x in the iterable. If the iterable is empty, return False.</li><li>bin(number)
Return the binary representation of an integer.</li><li>hex(number)
Return the hexadecimal representation of an integer.</li><li>oct(number)
Return the octal representation of an integer.</li><li>ord(c) -&gt; int
Return the Unicode code point for a one-character string.</li><li>sorted(iterable)
Return a new list containing all items from the iterable in ascending order. A custom key function can be supplied to customize the sort order, and the reverse flag can be set to request the result in descending order.</li><li>range(start, end, step=1)
Return the range of a value with start, end and step parameter.</li><li>min(iterable)
With a single iterable argument, return its smallest item. The default keyword-only argument specifies an object to return if the provided iterable is empty. With two or more arguments, return the smallest argument.</li><li>max(iterable)
With a single iterable argument, return its biggest item. The default keyword-only argument specifies an object to return if the provided iterable is empty. With two or more arguments, return the largest argument.</li><li>sum(iterable, start)
Return the sum of a &#x27;start&#x27; value (default: 0) plus an iterable of numbers. When the iterable is empty, return the start value. This function is intended specifically for use with numeric values and may reject non-numeric types.</li><li>pow(x, y, z)
Equivalent to <code>x**y</code> (with two arguments) or <code>x**y % z</code> (with three arguments). Some types, such as ints, are able to use a more efficient algorithm when invoked using the three argument form.</li><li>round(number, ndigits)
Round a number to a given precision in decimal digits. The return value is an integer if ndigits is omitted or None. Otherwise the return value has the same type as the number. ndigits may be negative.</li><li>typeof(x: any, *, full_name: bool = False) -&gt; str
Return the type of the value &#x27;x&#x27; at runtime. When the &#x27;full_name&#x27; is &#x27;True&#x27;, return the full package type name such as <code>pkg.schema</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-modules">Plugin Modules<a href="#plugin-modules" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>KCL compiler needs to provide the ability to dynamically expand and load plugin modules without modifying the compiler itself. KCL compiler needs to support flexible pluggable module extension mechanism, so that KCL users can use more abundant built-in function capabilities to simplify writing.</p><p>KCL compiler needs to ensure the stability and safety of the expansion mechanism, without affecting the core of the compiler.</p><p>Searching extended plugin module is performed after the standard system module. The standard system module has a higher priority in naming. If it exists a standard or built-in system module with the same name, the extended plugin module will be ignored.</p><p>Importing and using the extended plugin module should be consistent with the standard or built-in system module.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacing-standard-system-packages">Replacing Standard System Packages<a href="#replacing-standard-system-packages" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Replacing standard system modules is not allowed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>We show more module features through an example.</p><p>Suppose we have the following directories and files:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mod1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mod2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── pkg1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── def1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── def2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── def3init.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── pkg2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── file2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── subpkg3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └── file3.k</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From the structure we can see that <code>pkg1</code> and <code>pkg2</code> are two packages, <code>subpkg3</code> is a subpackage of <code>pkg2</code>, and <code>mod1.k</code> and <code>mod2.k</code> are regular modules.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-a-standard-system-package">Importing a Standard System Package<a href="#importing-a-standard-system-package" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>The following statement can import the standard system module <code>math</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> math</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is the only way to import a standard system module. After importing a standard system module, functions, variables and schemas defined in it can be used. For example, the following statement uses the <code>log10</code> function
defined in <code>math</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log10</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># a is 2 after computation.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-a-regular-module">Importing a Regular Module<a href="#importing-a-regular-module" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>In <code>mod1.k</code>, we can import <code>mod2</code> using one of the following syntaxes.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> mod2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mod2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The difference is that in the first syntax, the KCL compiler will first try to check if <code>mod2</code> matches any of the standard system modules&#x27; name. Since it does not match any standard system module&#x27;s name, the statement will check the directory where <code>mod1.k</code> resists in, like what the second statement does.</p><p>Suppose in <code>mod2.k</code> there is a definition of a variable::</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After importing <code>mod2</code>, we can access <code>a</code> in <code>mod1.k</code> using the following syntax</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mod2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-a-package">Importing a Package<a href="#importing-a-package" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>In <code>mod1.k</code>, we can import <code>pkg1</code> using one of the following syntaxes.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The difference is that in the first syntax, the KCL compiler will first try to check if <code>pkg1</code> matches any of the standard system modules&#x27; name. Since it does not match any standard system module&#x27;s name, the statement will check the directory where <code>mod1.k</code> resists in, like what the second statement does.</p><p>We can use similar statements to import <code>pkg2</code>. Note that importing <code>pkg2</code> will not import <code>subpkg3</code>.</p><p>The name of the package is the name of the imported module.</p><p>Suppose in <code>file2.k</code> that is inside <code>pkg2</code> there is a definition to variable <code>foo</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This variable can be used in <code>mod1.k</code> after importing <code>pkg2</code> like the following</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pkg2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-a-subpackage">Importing a Subpackage<a href="#importing-a-subpackage" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>To import <code>subpkg3</code> from <code>mod1.k</code>, one of the following statements can be used.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subpkg3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subpkg3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The behaviors of these statements are identical.</p><p>The name of the subpackage is the name of the imported module.</p><p>Suppose in <code>file3.k</code> that is inside <code>subpkg3</code> there is a definition to variable <code>foo</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This variable can be used in <code>mod1.k</code> after importing <code>subpkg3</code> like the following</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subpkg3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relative-importing">Relative Importing<a href="#relative-importing" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Relative importing is useful when there is code trying to import modules that does not exist recursively inside the current directory.</p><p>For example, the following statements, if written in <code>file3.k</code>, can be used to import <code>pkg2</code>, <code>pkg1</code> and <code>mod2</code> respectively.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg2 </span><span class="token comment" style="color:#999988;font-style:italic"># Go two levels up then import pkg2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg1 </span><span class="token comment" style="color:#999988;font-style:italic"># Go two levels up then import pkg1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mod2 </span><span class="token comment" style="color:#999988;font-style:italic"># Go two levels up then import mod2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-from-a-root-path">Importing from a Root Path<a href="#importing-from-a-root-path" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Suppose we have a <code>kcl.mod</code> file in the directory to mark it as a root path, then we have the following files:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |── kcl.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mod1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mod2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── pkg1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── def1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── def2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── def3init.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── pkg2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── file2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── subpkg3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └── file3.k</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In <code>pkg1</code> <code>def1.k</code>, we can import <code>pkg2.subpkg3</code> <code>file3</code> using the following syntaxes.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subpkg3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">file3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Importing from the root path is very convenient when the code is trying to import modules from a directory needs to look up multiple directories above this directory. At also, it is helpful to organize a large number of files in a root directory.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-a-module-inside-a-package">Importing a Module Inside a Package<a href="#importing-a-module-inside-a-package" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Note that <code>subpkg3</code> is only implemented with one file <code>file3.k</code>. The file can be regarded as a regular module and imported directly.</p><p>In <code>mod1.k</code>, the importing statement would be::</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subpkg3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">file3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Different from importing <code>subpkg3</code>, now the name of the module is <code>file3</code>. We can access the variable <code>foo</code> defined in this module with the following
statement</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="precedence-of-importing">Precedence of Importing<a href="#precedence-of-importing" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>When an import statement specifies a package to import, the virtual machine first looks for a directory named according to the import statement in the file system.</p><p>If such a directory is not found, the virtual machine looks for a single file module.</p><p>For example, when the statement <code>import a.b.c</code> appears, the virtual machine first looks for the directory <code>a/b/c</code> from the directory of the current file. If <code>a/b/c</code> is not found, the virtual machine looks for a file named <code>a/b/c.k</code>. If the file is also absent, an error is reported.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-implemented-with-multiple-files">Package Implemented with Multiple Files<a href="#package-implemented-with-multiple-files" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Package <code>pkg1</code> is implemented with multiple KCL files.</p><p>Multiple files can be used to define variables, schemas and functions, and they can access names defined in other files of this package.</p><p>For example, suppose <code>def1.k</code> defines a variable <code>foo</code>, <code>def2.k</code> defines <code>bar</code>, and <code>def3init.k</code> defines a variable <code>baz</code>, when <code>pkg1</code> is imported by <code>mod1.k</code>, all these variable can be used</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pkg1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pkg1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pkg1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">baz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Inside a module, names defined in a file can be accessed in another file without further importing. For example, suppose <code>bar</code> in <code>def2.k</code> would invoke <code>foo</code> defined in <code>def1.k</code>, it can directly use <code>foo</code> like the following</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kcl-lang/kcl-lang.io/tree/main/versioned_docs/version-0.5.0/reference/lang/spec/modules.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页面</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">上次更新<!-- --> on <b><time datetime="2023-09-05T03:08:06.000Z">2023年9月5日</time></b> by <b>peefy</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/docs/0.5.0/reference/lang/spec/lexical"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lexical</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/docs/0.5.0/reference/lang/spec/schema"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schema</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#modules-and-the-import-system" class="table-of-contents__link toc-highlight">Modules and the Import System</a></li><li><a href="#packages" class="table-of-contents__link toc-highlight">Packages</a><ul><li><a href="#intra-package-name-space-sharing" class="table-of-contents__link toc-highlight">Intra-Package Name Space Sharing</a></li><li><a href="#package-initialization" class="table-of-contents__link toc-highlight">Package Initialization</a></li></ul></li><li><a href="#searching" class="table-of-contents__link toc-highlight">Searching</a><ul><li><a href="#module-cache" class="table-of-contents__link toc-highlight">Module Cache</a></li><li><a href="#module-names" class="table-of-contents__link toc-highlight">Module Names</a></li><li><a href="#uniqueness-of-module" class="table-of-contents__link toc-highlight">Uniqueness of Module</a></li></ul></li><li><a href="#standard-system-packages" class="table-of-contents__link toc-highlight">Standard System Packages</a><ul><li><a href="#the-built-in-system-package" class="table-of-contents__link toc-highlight">The Built-in System Package</a></li><li><a href="#plugin-modules" class="table-of-contents__link toc-highlight">Plugin Modules</a></li><li><a href="#replacing-standard-system-packages" class="table-of-contents__link toc-highlight">Replacing Standard System Packages</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#importing-a-standard-system-package" class="table-of-contents__link toc-highlight">Importing a Standard System Package</a></li><li><a href="#importing-a-regular-module" class="table-of-contents__link toc-highlight">Importing a Regular Module</a></li><li><a href="#importing-a-package" class="table-of-contents__link toc-highlight">Importing a Package</a></li><li><a href="#importing-a-subpackage" class="table-of-contents__link toc-highlight">Importing a Subpackage</a></li><li><a href="#relative-importing" class="table-of-contents__link toc-highlight">Relative Importing</a></li><li><a href="#importing-from-a-root-path" class="table-of-contents__link toc-highlight">Importing from a Root Path</a></li><li><a href="#importing-a-module-inside-a-package" class="table-of-contents__link toc-highlight">Importing a Module Inside a Package</a></li><li><a href="#precedence-of-importing" class="table-of-contents__link toc-highlight">Precedence of Importing</a></li><li><a href="#package-implemented-with-multiple-files" class="table-of-contents__link toc-highlight">Package Implemented with Multiple Files</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/getting-started/intro">简介</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/guides">用户手册</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/reference/lang/tour">教程</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/support">常见问答</a></li></ul></div><div class="col footer__col"><div class="footer__title">资源</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/kusionstack/kcl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/blog">博客</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/community/intro">社区</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kusionstack.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">KusionStack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">版权 © 2023 KCL Authors</div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.66e9b8ae.js"></script>
<script src="/zh-CN/assets/js/main.4fd074a2.js"></script>
</body>
</html>