<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">1 post tagged with &quot;KCL&quot; | KCL programming language.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kcl-lang.github.io/zh-CN/blog/tags/kcl"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" property="og:title" content="1 post tagged with &quot;KCL&quot; | KCL programming language."><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/zh-CN/favicon.ico"><link data-rh="true" rel="canonical" href="https://kcl-lang.github.io/zh-CN/blog/tags/kcl"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/blog/tags/kcl" hreflang="en"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/zh-CN/blog/tags/kcl" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/blog/tags/kcl" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://I3BKOKGSD5-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="KCL programming language. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="KCL programming language. Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="KCL programming language." href="/zh-CN/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MZD1X1PB2Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MZD1X1PB2Q",{anonymize_ip:!0})</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/zh-CN/assets/css/styles.422dec21.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.66e9b8ae.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.4fd074a2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Give us a star ⭐️ - If you are using KCL or think it is an interesting project, we would love a star and record on <a target="_blank" rel="noopener noreferrer" href="https://github.com/kcl-lang/kcl">Github</a> and <a target="_blank" rel="noopener noreferrer" href="https://github.com/kcl-lang/kcl/issues/578">Record Issue</a></div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/kcl-logo.png" alt="KCL Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-CN/img/kcl-logo.png" alt="KCL Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" docid="intro/kcl-intro" href="/zh-CN/docs/user_docs/getting-started/">使用文档</a><a class="navbar__item navbar__link" href="/zh-CN/docs/reference/lang/tour">参考手册</a><a class="navbar__item navbar__link" href="/zh-CN/docs/tools/cli/">工具</a><a href="https://artifacthub.io/packages/search?kind=20&amp;sort=relevance&amp;page=1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="packages">软件包<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="http://play.kcl-lang.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="playground">游乐场<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/kcl-lang/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="examples">样例<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/zh-CN/docs/community/intro/">社区</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-CN/docs/tools/cli/">0.6.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-CN/docs/next/tools/cli/">Next</a></li><li><a class="dropdown__link" href="/zh-CN/docs/tools/cli/">0.6.0</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.6/tools/cli/">0.5.6</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.5/tools/cli/">0.5.5</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.4/tools/cli/">0.5.4</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.3/tools/cli/">0.5.3</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.2/tools/cli/">0.5.2</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.1/tools/cli/">0.5.1</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.5.0/tools/cli/">0.5.0</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.6/tools/cli/">0.4.6</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.5/events/2022/kcl_paper">0.4.5</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.4/events/2022/kcl_paper">0.4.4</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.3/events/2022/kcl_paper">0.4.3</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/blog/tags/kcl" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-CN/blog/tags/kcl" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="https://github.com/kcl-lang/kcl-lang.io/issues/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently 浅色模式)" aria-label="Switch between dark and light mode (currently 浅色模式)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博客导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-10-25-biweekly-newsletter">KCL 社区开源双周报 (2023 10.12 - 10.25) | IDE 插件支持引用查找、包管理集成 ArtifactHub</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-10-23-cloud-native-supply-chain-krm-kcl-spec">KCD 社区会议回顾 | 基于云原生供应链的配置策略管理新范式 - KRM KCL 规范</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-10-21-kcl-kcd-hangzhou-meeting">2023 CNCF KCD 杭州社区会议 KCL 介绍内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-10-11-biweekly-newsletter">KCL 社区开源双周报 (2023 09.07 - 10.11) | v0.6.0 版本发布 —— 更多 IDE 插件、包管理支持!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-09-19-kcl-joining-cncf-sandbox">喜报！KCL 正式成为 CNCF 沙盒项目 🎉</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-09-15-kcl-0.6.0-release">KCL v0.6.0 重磅发布 - 面向云原生场景更易用的语言、工具链，社区集成和扩展支持</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-09-06-dcm-using-kcl">动态配置管理新范式: KRM KCL 规范</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-09-06-biweekly-newsletter">KCL 社区开源双周报 (2023 08.24 - 09.06) | Kubernetes Operator，IDE 插件和 v0.5.6 版本正式发布!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-09-04-maintainer-jakezhu9-blog">快讯！祝贺 jakezhu9 成为 KCL 社区 Maintainer！KCL Import 工具再迎增强功能！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-platform-engineering-tech-summit">2023 平台工程会议 KCL 介绍内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-08-31-helmfile-kcl-plugin">5 分钟玩转 Helmfile KCL 插件，轻松管理 Kubernetes Helm Charts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-08-23-biweekly-newsletter">KCL 社区开源双周报 (2023 08.10 - 08.23) | KCL v0.5.3, v0.5.4 和 v0.5.5 版本发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-08-09-biweekly-newsletter">KCL 社区开源双周报 (2023 07.26 - 08.09) | KCL 0.5.1 和 0.5.2 版本正式发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-07-31-kcl-github-argocd-gitops">使用 Github、Argo CD 和 KCL 实现 GitOps 以简化 DevOps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-07-18-kcl-intro-slides">KCL 介绍 PPT</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-0.5.0-release-blog">KCL v0.5.0 发布日志</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023/07/10/kcl-LSP">用 Rust 重写的 KCL LSP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-03-26-kcl-os2atc-meeting">WAIC 2023 会议 KCL 介绍内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-06-29-k8s-sidecar-2">聊聊 K8S 中的 Sidecar 设计模式·第 2 篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-06-05-k8s-sidecar-1">聊聊 K8S 中的 Sidecar 设计模式·第 1 篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-05-30-vs-helm">KCL 与其他 Kubernetes 配置管理工具的异同 - Helm 篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-05-20-vs-kustomize">KCL 与其他 Kubernetes 配置管理工具的异同 - Kustomize 篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-new-version-feature-interpretation-kclvm-go-feature-overview">KCL 新版本功能解读系列 - Go SDK 功能速览！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-0.4.6-release-blog">KCL v0.4.6 发布日志</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-03-26-kcl-os2atc-meeting">OS2ATC 2022 会议 KCL 介绍内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-0.4.6-alpha.1-release-blog">KCL v0.4.6-alpha.1 发布日志</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023-kcl-playground-0.4.5-release">全新的 KCL Playground 来了!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-0.4.5-release-blog">KCL v0.4.5 发布日志</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-osdt-meeting">OSDT 2022 会议 KCL 介绍内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-0.4.4-release-blog">KCL v0.4.4 发布日志</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-rewrite-with-rust">性能提升 40 倍！我们用 Rust 重写了自己的项目</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-setta-meeting">SETTA 2022 会议 KCL 介绍内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-kcl-setta-paper">KCL 论文被 SETTA 2022 会议录用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2022-declarative-config-overview">声明式配置技术概述</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2021-kcl-intro">GIAC 2022 会议 KCL 介绍内容</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>1 post tagged with &quot;KCL&quot;</h1><a href="/zh-CN/blog/tags">查看所有标签</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2023-10-25-biweekly-newsletter">KCL 社区开源双周报 (2023 10.12 - 10.25) | IDE 插件支持引用查找、包管理集成 ArtifactHub</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-25T00:00:00.000Z" itemprop="datePublished">2023年10月25日</time> · <!-- -->阅读需要 1 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">KCL 团队</span></div><small class="avatar__subtitle" itemprop="description">KCL 团队</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> 是一个 CNCF 基金会托管的基于约束的记录及函数语言并通过成熟的编程语言技术和实践来改进对大量繁杂配置比如云原生 Kubernetes 配置场景的编写，致力于构建围绕配置的更好的模块化、扩展性和稳定性，更简单的逻辑编写，以及更简单的自动化和生态工具集成。</p><p>本栏目将会双周更新 KCL 语言社区最新动态，包括功能、官网更新和最新的社区动态等，帮助大家更好地了解 KCL 社区！</p><p><strong><em>KCL 官网：<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="内容概述">内容概述<a href="#内容概述" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>感谢所有贡献者过去两周 (2023 10.12 - 10.25) 的杰出工作，以下是重点合并内容概述</p><p><strong>🔧 语言及工具链更新</strong></p><ul><li>KCL IDE 更新 - 支持对符号的引用跳转和重命名；优化了引用语句和 union 类型的格式化输出；修复了文件变更引发语言服务崩溃的问题</li><li>KCL 包管理工具 KPM 更新 - kpm 正在集成 AritifactHub，支持将 KCL 包发布到 ArtifactHub</li><li>KCL 语言更新 - 优化了方法的参数类型不匹配等报错信息，明确指出了不匹配的类型</li><li>KCL 命令行统一界面 - 重新设计了 KCL 相关工具的命令行统一界面和工作流，进入实现阶段</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="特别鸣谢">特别鸣谢<a href="#特别鸣谢" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>以下排名不分先后</p><ul><li>感谢 @jakezhu9 对 KCL 语法解析单元测试的改进，将部分测试用例统一迁移到使用 snaptest 框架 🙌 <em><a href="https://github.com/kcl-lang/kcl/pull/794" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/794</a></em> 等</li><li>感谢 @opsnull 对 KCL 官网文档中代码示例的纠错和贡献 🙌 <em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/182" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/182</a></em></li><li>感谢 @prahaladramji 对 KCL IntelliJ 插件格式化功能的纠错和优化 🙌 <em><a href="https://github.com/kcl-lang/intellij-kcl/pull/15" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/intellij-kcl/pull/15</a></em></li><li>感谢 @steeling, @prahaladramji, @liangyuanpen, @Kory Taborn 等在使用 KCL 及工具链过程中提出的宝贵反馈和讨论 🙌</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="精选更新">精选更新<a href="#精选更新" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-插件更新">KCL IDE 插件更新<a href="#kcl-ide-插件更新" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>在待发布的版本中，KCL IDE 插件支持了对符号的引用跳转及重命名功能；优化了对引用语句和union类型的格式化输出。同时修复了语言服务虚拟文件系统相关的bug：文件维度的变更引发会语言服务崩溃，必须重启 IDE 恢复，现已修复。</p><p>使用<code>转到引用</code>或<code>查找所有引用</code>：
<img loading="lazy" src="/zh-CN/assets/images/FindRefs-924c460d5480d6888c032d8b406a5c74.png" width="1682" height="880" class="img_ev3q"></p><p>对符号进行<code>重命名</code>：
<img loading="lazy" src="/zh-CN/assets/images/Rename-82061ac2cb03a77c542d5a4474797228.gif" width="832" height="513" class="img_ev3q"></p><p>对引用语句和 union 类型的格式化：优化了引用语句与其他代码块之间的空行行为（格式化为一个空行）、union 类型的空格行为（多个类型之间格式化为以 <code>|</code> 间隔）：
<img loading="lazy" src="/zh-CN/assets/images/Format-bacf4e759fcb2a5a29f0f219b4dfa8ec.gif" width="590" height="269" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-包管理工具">KCL 包管理工具<a href="#kcl-包管理工具" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>在待发布的版本中，kpm 支持与 <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">ArtifactHub</a> 的集成，您可以通过向<a href="https://github.com/kcl-lang/artifacthub" target="_blank" rel="noopener noreferrer">kcl-lang Registry 仓库</a> 提交 PR 的方式将您的 KCL 包发布到 ArtifactHub. 目前我们可以在 <a href="https://staging.artifacthub.io/packages/search?ts_query_web=kcl&amp;sort=relevance&amp;page=1" target="_blank" rel="noopener noreferrer">ArtifactHub staging 页面</a>看到预上传的 KCL k8s 包的效果，该功能将在 v0.6.1 版本发布：</p><p><img loading="lazy" src="/zh-CN/assets/images/artifacthubStaging-6afae7c6f808a91ec2bd8af334a1ea80.png" width="2204" height="1536" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-语言更新">KCL 语言更新<a href="#kcl-语言更新" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>KCL 的编译命令正在持续地优化错误信息的输出，致力于提供清晰易懂的指引，帮助开发者快速定位和修复问题，编写出正确的代码。近期，KCL 对方法类型和参数方面的错误信息进行了优化，例如：明确指出了方法的参数类型不匹配的报错：</p><p><img loading="lazy" src="/zh-CN/assets/images/error-msg-b8d24e1f29627c121d233db677b923b6.png" width="1254" height="968" class="img_ev3q"></p><p>此外，还修复了属性赋值的惰性求值问题，将属性赋值的计算和约束校验延迟到配置合并完成后，避免不必要的编译报错。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-命令行统一界面">KCL 命令行统一界面<a href="#kcl-命令行统一界面" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>为向 KCL 用户提供一致和标准化的体验，我们正在对 KCL 的命令行界面进行设计改进，以达到统一的用户工作流、相关工具和多语言 API 的无缝集成、命令行工具的可扩展性。目前完成了初步设计进入实现阶段，欢迎感兴趣的小伙伴一起讨论：<a href="https://github.com/kcl-lang/kcl/issues/756" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/756</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="社区动态">社区动态<a href="#社区动态" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>随着加入 CNCF sandbox，CNCF KCL Slack 频道已经开通，与 KCL 语言相关的交流将逐步迁移到新的频道，欢迎大家加入交流：</p><ol><li>加入 CNCF 工作空间，填写个人邮箱即可: <a href="https://communityinviter.com/apps/cloud-native/cncf" target="_blank" rel="noopener noreferrer">https://communityinviter.com/apps/cloud-native/cncf</a></li><li>加入 CNCF KCL 频道: <a href="https://cloud-native.slack.com/archives/C05TC96NWN8" target="_blank" rel="noopener noreferrer">https://cloud-native.slack.com/archives/C05TC96NWN8</a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="近期活动">近期活动<a href="#近期活动" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcd-杭州站活动顺利举行">KCD 杭州站活动顺利举行<a href="#kcd-杭州站活动顺利举行" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>Kubernetes Community Days（KCD）杭州站活动已于 10.21 顺利举行，现场收到了 KCL 用户交流互动和热情反馈。KCL 项目的徐鹏飞发表了《基于云原生供应链的配置策略管理新范式》议题的演讲，相关资料已上传 KCL 官网：<a href="https://kcl-lang.io/talks/kcl-cncf-kcd-hangzhou2023.pdf" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/talks/kcl-cncf-kcd-hangzhou2023.pdf</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-开源双周会">KCL 开源双周会<a href="#kcl-开源双周会" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>近期 KCL 开源双周会将于 10.26 进行，欢迎社区小伙伴踊跃参与、交流：<a href="https://github.com/kcl-lang/community/discussions/9" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community/discussions/9</a></p><p>点击链接入会，或添加至会议列表：
<a href="https://meeting.tencent.com/dm/Hc6sNpqTWnPb" target="_blank" rel="noopener noreferrer">https://meeting.tencent.com/dm/Hc6sNpqTWnPb</a></p><p>#腾讯会议：778-2381-6338</p><p>复制该信息，打开手机腾讯会议即可参与</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="其他资源">其他资源<a href="#其他资源" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>❤️ 感谢所有 KCL 用户和社区小伙伴在社区中提出的宝贵反馈与建议。预计 11 月底我们会正式发布 KCL v0.7 新版本，敬请期待!</p><p>更多其他资源请参考：</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL 网站</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack 网站</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 路线规划</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/7" target="_blank" rel="noopener noreferrer">KCL v0.7.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/kcl">KCL</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/biweekly-newsletter">Biweekly-Newsletter</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2023-10-23-cloud-native-supply-chain-krm-kcl-spec">KCD 社区会议回顾 | 基于云原生供应链的配置策略管理新范式 - KRM KCL 规范</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-23T00:00:00.000Z" itemprop="datePublished">2023年10月23日</time> · <!-- -->阅读需要 1 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">KCL Team</span></div><small class="avatar__subtitle" itemprop="description">KCL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>本篇文章是 2023 年 CNCF KCD 杭州会议 KCL 演讲部分内容回顾，活动链接: <a href="https://community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-hangzhou-2023/" target="_blank" rel="noopener noreferrer">https://community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-hangzhou-2023/</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="背景">背景<a href="#背景" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><blockquote><p>随着云原生技术的发展，我们更多地转向云基础设施，Kubernetes 和 Terraform 等基础设施即代码 (IaC) 工具已成为越来越流行的管理和部署基于云 API 的应用程序的工具。但是随之而来衍生出的复杂性问题和认知负担问题在近几年达到了高峰。</p></blockquote><p><img loading="lazy" alt="cognitive-loading" src="/zh-CN/assets/images/cognitive-loading-906eaf3b0c90f6c0ec2aedda3720edbb.png" width="2064" height="1200" class="img_ev3q"></p><p>对于 Kubernetes，作为使用最广泛的容器编排系统，Gartner 预测，到 2022 年，全球超过 75% 的组织将在生产中运行容器化应用程序。如今，容器管理市场估计约为 3 亿美元，预计到 2025 年将突破 10 亿美元，并且 Kubernetes 正稳步走出麻烦的低谷，走向成熟和更广泛的采用<sup>[1]</sup>。</p><p>对于 Terraform，作为使用最广泛的 IaC 工具，截止本文撰写时，Terraform VS Code 插件安装量有 3.2M 左右，相当于 Go VS Code 插件安装量的三分之一 (10M 左右)，甚至超过很多通用编程语言的安装量，比如 Rust VS Code 插件在 2.3M 左右, 并且 HCL 是 GitHub 2022 年度增长最快的编程语言，超过了其他所有通用编程语言和领域编程语言，形成了广泛的研发者生态<sup>[2]</sup>。</p><p>由此可以看出，Kubernetes 和 Terraform 正在成为云原生领域中不可或缺的基础设施项目并且在未来几年将会持续增长，虽然它们两者的项目性质并不完全相同，但是殊途同归，它们正在变得越来越复杂。</p><p><img loading="lazy" alt="issues" src="/zh-CN/assets/images/issues-523b933d28a72ec0fca7eb9b8a36c639.png" width="2474" height="1064" class="img_ev3q"></p><p>Kubernetes 和 Terraform 背后所代表的云 API 越来越复杂的原因主要有以下几点<sup>[3]</sup><sup>[4]</sup><sup>[5]</sup>：</p><ul><li><strong>不断增加的功能和能力</strong>：Kubernetes 和云 API 都是为了应对不断增长的应用需求和云计算的发展而不断演进。为了满足用户的需求，它们不断引入新的功能和能力，如自动扩展、服务发现、负载均衡、权限管理等。这些新功能的引入增加了系统的复杂性。虽然我们已经有了各式各样的自动化手段，随着时间的推移，因为不同资源类型的数量、这些资源类型的潜在设置数量以及这些资源类型之间的复杂关系呈指数级增长。</li><li><strong>复杂的配置和管理需求</strong>：随着应用规模的增长，配置和管理 Kubernetes 和云 API 变得越来越复杂。例如，需要管理大量的容器实例和资源、配置复杂的网络和存储、实现高可用性和负载均衡，需要针对不同的环境和拓扑重复地进行配置等。这些复杂的配置和管理需求增加了 Kubernetes 和云 API 的复杂性，开玩笑的说甚至在 Kubernetes 领域常常伴随催生了一批 YAML 工程师或标记语言人肉编辑工程师。</li></ul><p>对于云 API, 我们借助 Terraform 等 IaC 工具可以获得大量的已经编写好的 Module 配置和 Provider 等，但是对于 Kubernetes 仍然缺乏客户端的轻量级的配置组合和抽象解决方案，现有的方案或者规范难以在抽象能力和扩展性获得平衡，甚至对于一些极端场景，开发者往往编写许多胶水代码和脚本对配置进行处理逻辑，稳定性和效率都受到一定桎梏。</p><p>于是我们思考需要有一个统一规范描述来同时承载配置语言能力，并且可以尽可能无副作用地同时满足云原生供应链和规模化配置等场景下的稳定性、扩展性和效率等特性，减轻基础设施对开发人员的认知负担，提高配置管理效率。</p><p>因此，我们提出了 KCL 项目以及 KRM KCL 规范期望通过更现代化的声明式配置语言和工具，在轻量级客户端云原生动态配置领域填补配置语言及工具的空白并解决如下问题：</p><ul><li><strong>维度爆炸</strong>: 大多数静态配置如云原生领域的 Kubernetes YAML 配置需要为每个环境单独进行配置；在最糟糕的情况下，它可能引入涉及环境交叉链接的难以调试的错误，稳定性和扩展性都较差。</li><li><strong>配置漂移</strong>: 对于不同环境的静态管理应用程序和基础设施配置的方式，往往没有标准的方式去管理这些动态的不同环境的配置，采用非标准化的方法比如脚本和胶水代码的拼盘，会导致复杂度呈指数增长，并导致配置漂移。</li><li><strong>认知负担</strong>: Kubernetes 等作为构建平台的平台技术手段在底层统一基础架构细节方面出色，但是缺乏更上层的应用软件交付抽象，对于普通开发者认知负担较高，影响了更上层应用开发者的软件交付体验。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="概念">概念<a href="#概念" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p><img loading="lazy" alt="kcl-intro" src="/zh-CN/assets/images/kcl-intro-6765cd8281be544b4ef6c84d701082b4.png" width="2310" height="1166" class="img_ev3q"></p><p>KCL 是一款面向云原生领域的专用配置策略语言，2022 年 6 月 开源，2023 年 9 月成为 CNCF 基金会托管的 Sandbox 项目，致力于改进编写云原生配置策略和 Kubernetes API 层可编程性编写的用户体验。KCL 项目目前位于 CNCF 基金会全景图 Automation &amp; Configuration Landscape 中，KCL 中的 C 是 Configuration 的缩写，L 是 Language 的缩写，K 取自 Kubernetes 的首字母 K <sup>[6]</sup>。</p><p>与通用编程语言不同，KCL 作为一款领域特定的编程语言，是以收敛有限的语法、语义集合解决近乎无限变化的业务场景和复杂性 (比如仅 Kubernetes 领域中就有成千上万种资源以及社区中多到数不清且碎片化的 Operator 生态)，将复杂配置和策略编写思路和方式沉淀到语言特性中，避免使用通用语言等配置带来安全隐患等副作用。</p><p>作为一种配置语言，KCL 为应用程序和平台开发人员/SRE 提供的最重要的功能是动态配置管理。通过代码抽象，我们可以构建以应用为中心的模型屏蔽复杂的基础设施和平台概念，为开发人员提供一个以应用程序为中心且易于理解的界面。此外，KCL 还允许平台人员快速扩展和定义自己的模型，并且提供丰富的可管理能力包括开箱即用的 KCL 代码库、语义版本化管理、OCI Registry，语言工具链和自动化支持。</p><p>此外，KCL 建立在一个完全开放的云原生世界当中，几乎不与任何编排/引擎工具或者 Kubernetes 控制器绑定，在云原生供应链场景和规模化运维场景中，可同时为客户端和运行时提供 API 抽象、组合和校验的能力，用户可以选择合适场景的引擎比如 Kubectl<sup>[7]</sup>, KusionStack<sup>[8]</sup>, KubeVela<sup>[9]</sup> 或 Helmfile<sup>[10]</sup> 等来和 KCL 结合将配置生效到集群。</p><p><img loading="lazy" alt="kcl-concept" src="/zh-CN/assets/images/kcl-concept-3d4b3f72cf6e4e467f7f6764604731d4.png" width="2352" height="1190" class="img_ev3q"></p><p>此外，KCL 语言本身是一种现代化的高级领域编程语言，它是一种编译静态的强类型语言。KCL 为开发人员提供了通过记录和函数语言设计将<strong>配置（config）</strong>、<strong>建模抽象（schema）</strong>、<strong>逻辑（lambda）</strong>和<strong>策略（rule）</strong>作为核心能力。</p><p>KCL 试图提供独立于运行时的可编程性，不在本地提供线程和 IO 等系统功能，并试图为解决领域问题并提供稳定、安全、低噪声、低副作用、高性能、易于自动化和易于管理的编程支持。</p><p><img loading="lazy" alt="krm-kcl" src="/zh-CN/assets/images/krm-kcl-583142f7cf6a01221abc3f508cad4b74.png" width="2354" height="1144" class="img_ev3q"></p><p>KRM KCL 规范是基于 Kubernetes Resource Model（KRM）的一种配置规范。KRM 是一个通用的配置模型，用于描述和管理各种云原生资源，如容器、Pod、服务等。KRM 提供了一种统一的方式来定义和管理这些资源，使得它们可以在不同的环境中进行移植和复用<sup>[11]</sup>。</p><p>KRM 规范作为 Kubernetes 官方的规范之一，其核心概念是 KRM 函数，KRM 函数的输入是一系列 Kubernetes 资源以及 KRM 函数的配置，输出也是一系列 Kubernetes 资源加上函数运行的结果比如报错、调试信息等。而 KRM KCL 是将 KRM Function 使用 KCL 代码实现，并在其基础上扩展了多种代码源支持比如 OCI Registry, Git 和 Https 等。</p><p>在 KRM KCL 规范中，我们将 KCL 配置模型的行为主要分成三类</p><ul><li><strong>Mutation</strong>: 输入 KCL 参数 <code>params</code> 和 KRM 列表并输出修改后 KRM 列表。</li><li><strong>Validation</strong>: 输入 KCL 参数 <code>params</code> 和 KRM 列表并输出 KRM 列表和资源验证结果。</li><li><strong>Abstraction</strong>: 输入 KCL 参数 <code>params</code> 并输出 KRM 列表。</li></ul><p>我们可以使用 KCL 以可编程的方式实现如下能力:</p><ul><li>使用 KCL 对资源进行修改，如根据某个条件添加/修改 label 标签或 annotation 注释或在包含 PodTemplate 的所有 Kubernetes Resource Model (KRM) 资源中注入 Sidecar 容器配置等。</li><li>使用 KCL Schema 验证所有 KRM 资源，如约束只能以 Root 方式启动容器等。</li><li>使用抽象模型生成 KRM 资源或者对不同的 Kubernetes API 进行抽象/组合并使用，比如使用 <code>web-service</code> 模型实例化一个 Web 应用配置。</li></ul><p>我们可以借助 KCL IDE 和 KCL 包管理工具编写模型并上传到 OCI Registry 以实现模型复用，对 KRM KCL 规范进行可编程扩展支持，并且这些模型可以根据场景需求分别用在客户端或者运行时。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="用户体验">用户体验<a href="#用户体验" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>针对上述提到到领域中的问题以及 KCL 相关概念，我们主要为用户提供了三方面的支持：语言、工具链、云原生集成。</p><p><img loading="lazy" alt="workspace" src="/zh-CN/assets/images/workspace-f5bf20ccd0e89ed8cc99d85a900b376e.png" width="1974" height="1164" class="img_ev3q"></p><p>虽然 KCL 是一个领域语言，但是麻雀虽小，五脏俱全。KCL 提供了与通用语言能力基本等同的的工具链如格式化，测试、文档、包管理等工具帮助更好地编写、理解和检查编写的配置或策略；通过 VS Code 等 IDE 插件和 Playground 降低配置编写、分享的成本；通过 Rust, Go, 和 Python 多语言 SDK 自动化地管理和执行配置。</p><p><img loading="lazy" alt="ide" src="/zh-CN/assets/images/ide-a6076d6022bf21ae4a2b380c2307fd01.png" width="2432" height="1190" class="img_ev3q"></p><p>对于 IDE 插件，KCL 目前主要提供了 VS Code，IntelliJ 和 NeoVim 三种 IDE 插件基于同样的 KCL Language Server 实现了同样的补全、跳转、悬停、代码重构和格式化等能力<sup>[12]</sup>。</p><p><img loading="lazy" alt="integration" src="/zh-CN/assets/images/integration-e0c79f366a98562b4acc097b21a35230.png" width="2512" height="1196" class="img_ev3q"></p><p>作为 CNCF 的项目，KCL 还与 CNCF 其他众多生态项目进行了集成，比如为现有的 CNCF 生态配置管理工具项目如 Kubectl, Helm、Kustomize、kpt、helmfile 等提供 KCL 插件，在运行时提供 KCL Kubernetes Operator，以满足不同场景的配置管理需求等。此外我们还提供如下集成支持：</p><ul><li><strong>多语言支持</strong>：我们提供了多语言 SDK，帮助用户以不同的语言操作 KCL，并将其集成到自己的应用程序中。</li><li><strong>包管理支持</strong>：我们提供了 KCL 包管理工具可以将配置和策略代码通过 Harbor, Docker Hub, GitHub Packages 等标准的 OCI 供应链方式进行分发和复用。</li><li><strong>Schema 和数据迁移支持</strong>：我们支持其他生态系统的 Schema 和数据一键迁移到 KCL Schema，如 Go/Rust 结构定义、JsonSchema、Protobuf、OpenAPI、Terraform Provider Schema、JSON 和 YAML 等。</li></ul><p><img loading="lazy" alt="artifact-hub" src="/zh-CN/assets/images/artifact-hub-508b49dd9554d933cccba9661d6ba98b.png" width="1806" height="1250" class="img_ev3q"></p><p><img loading="lazy" alt="artifact-hub-k8s" src="/zh-CN/assets/images/artifact-hub-k8s-c0f1ceb26e3bcb4a6f76085468321598.png" width="1080" height="753" class="img_ev3q"></p><p>此外，KCL 还支持与 ArtifactHub 的集成，您可以通过向 <code>kcl-lang/artifacthub</code> 仓库提交 PR 的方式将您的 KCL 包发布到 ArtifactHub，然后可以在 ArtifactHub 页面看到上传的 KCL 包的效果比如 k8s 包<sup>[13]</sup>。</p><p><img loading="lazy" alt="registry" src="/zh-CN/assets/images/registry-3828143d47f49b358401c59fca3df8d5.png" width="2314" height="1216" class="img_ev3q"></p><p>在此基础上，KCL 提供了许多开箱即用的云原生模型主要涵盖 Kubernetes 和 Terraform 模型，可以通过一行 KCL 命令添加相应的配置模型依赖或者查看 KCL 源代码。</p><p><img loading="lazy" alt="performance" src="/zh-CN/assets/images/performance-2358c8f2881d48f85b8365082cb5f2cd.png" width="1992" height="1070" class="img_ev3q"></p><p>除了与用户直接相关的语言、工具链和云原生集成的外表工作，我们还在 KCL 的稳定性、性能等内在方面做了许多工作。在代码规模较大或者计算量较高的场景情况下 KCL 比 CUE/Jsonnet/HCL 等语言性能更好，且由于 KCL 的渐进式静态类型系统、不可变性、Schema、校验规则等特性，能够进一步保障配置的稳定性。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="实践">实践<a href="#实践" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>KCL 目前聚焦在云原生领域特别是 Kubernetes 场景模型。</p><p><img loading="lazy" alt="k8s-mutation" src="/zh-CN/assets/images/k8s-mutation-46b215cac187e9df9f5956c2cbbffa87.png" width="2194" height="1156" class="img_ev3q"></p><p>作为云原生领域内的一个小语言，KCL 可以直接被用于解决场景中简单的小问题，如通过 <code>append-env</code> 模型直接为 Kubernetes 资源注入环境变量等配置而不是编写脚本，并且这些模型是可以分享复用并且经过了代码测试，在工程性、稳定性和扩展性上均有保障。</p><p><img loading="lazy" alt="k8s-validation" src="/zh-CN/assets/images/k8s-validation-23ba48aebb408125f399ed027e0a8153.png" width="2072" height="1232" class="img_ev3q"></p><p>除了 Kubernetes 配置原地编辑，KCL 还在 Kubernetes 配置校验方面提供了许多开箱即用的模型比如容器服务校验模型、镜像准入模型、Pod Container Policy (PSP) 模型等来解决云原生供应链当中的安全和合规问题。比如可以通过 <code>disallow-svc-lb</code> 模型来验证 <code>Service</code> 资源中是否错误地设置了 <code>LoadBalancer</code> 类型；通过 <code>https-only</code> 模型来验证 <code>Ingress</code> 资源中是否包含了显示设置为 https 的 label 注解。</p><p>相比于其他策略工具或引擎，使用 KCL 的好处是一份校验模型可以同时在客户端和运行时使用，并且可以同时在编程语言界面同时定义 Schema 和约束条件，无需额外配合 OpenAPI Schema 或者 JSON Schema 使用。</p><p><img loading="lazy" alt="kcl-operator" src="/zh-CN/assets/images/kcl-operator-59dd8aa52b4e9aa8bd75ca8668c576f9.png" width="2036" height="1194" class="img_ev3q"></p><p>除了在客户端完成配置的抽象、编辑和校验，KCL 还提供了运行时支持。KCL Operator 提供了 Kubernetes 集群集成，允许在将 Kubernetes 资源应用到集群时使用 Access Webhook 根据 KCL 配置生成、变异或验证资源。Webhook 将捕获创建、应用和编辑操作，并 <code>KCLRun</code> 在与每个操作关联的配置上执行资源<sup>[14]</sup>。</p><p>使用 KCL Operator, 通过几个步骤就可以在 Kubernetes 集群内部以很轻量的方式地通过 KCL 代码自动化地完成资源配置的管理和安全验证，无需重复开发 Webhook Server 在运行时动态修改和验证配置。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terraform">Terraform<a href="#terraform" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>另外一个 KCL 聚焦的场景是 Terraform 的生态模型。</p><p><img loading="lazy" alt="tf-validation" src="/zh-CN/assets/images/tf-validation-3222592dd7b44cf6484c2de85c064b77.png" width="2390" height="1202" class="img_ev3q"></p><p>在云原生供应链场景中，除了用户的业务代码，往往也需要验证 IaC 代码的安全性，因此 KCL 也提供了与 Terraform 相关的验证模型。比如图中的示例仅需要编写几行 KCL 代码就可以完成在 AWS 资源组的自动扩缩操作中禁止删除资源的需求<sup>[15]</sup>。</p><p>相比于其他策略引擎或工具，KCL 支持一键从 Terraform Provider Schema 转换为 KCL Schema, 可以很好地降低策略编写的难度。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iac--gitops">IaC &amp; GitOps<a href="#iac--gitops" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p><img loading="lazy" alt="gitops" src="/zh-CN/assets/images/gitops-caaa30f285f66c237ec4517606c542ab.png" width="2412" height="1134" class="img_ev3q"></p><p>无论是 Kubernetes 模型还是 Terraform 模型，不论是使用独立的 KCL 还是 KRM KCL 配置形式，KCL 都支持与各种以及 CI/CD 和 GitOps 工具的集成，KCL 允许开发人员以声明式的方式定义应用程序所需的资源，通过将 KCL 和 GitOps 工具相结合可以帮助我们更好地实现 IaC，提高部署效率，简化应用程序的配置管理<sup>[16]</sup>。</p><p>使用 GitOps，开发人员和运维团队可以通过分别修改应用和配置代码来管理应用程序的部署，GitOps 工具链可以基于 KCL 的自动化能力实现对配置的自动更改，从而实现持续部署并确保一致性。如果出现问题，可以使用 GitOps 工具链快速回滚。</p><p><img loading="lazy" alt="app-delivery" src="/zh-CN/assets/images/app-delivery-f176dd31e6e1c81d727d5604b3575426.png" width="2186" height="1184" class="img_ev3q"></p><p>KCL 也可以被用于企业内部与各种 CI/CD 和应用配置交付引擎比如 KusionStack 等相配合，实现关注点分离、以应用为中心的可编程模型界面和 GitOps 流程，以简化当今混合多云环境中规模化应用的部署和运维操作，提升发布运维效率和开发者体验。</p><p><img loading="lazy" alt="k8s-abstraction" src="/zh-CN/assets/images/k8s-abstraction-676bbaa9096bef3db0d7cbdb124345bb.png" width="2238" height="1206" class="img_ev3q"></p><p>此外，使用 KCL 的 Schema 结构和 自动化 API，我们可以在外部系统中集成 KCL 并使用 CLI/API/UI 形式实现对 KCL 配置的自动增删改查，在实现 GitOps &amp; IaC 的基础上，同时为研发人员提供一个良好的配置管理界面，支持以 UI 表单形式实现对 KCL 代码的变更，提升配置管理和应用交付的效率，避免配置漂移等问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="小结">小结<a href="#小结" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p><img loading="lazy" alt="summary" src="/zh-CN/assets/images/summary-abf1bdf234ee0a796ea97959ec450389.png" width="2292" height="1010" class="img_ev3q"></p><p>本篇文章主要回顾了 CNCF KCD 社区会议 KCL 演讲内容，讲述了云原生领域特别是 Kubernetes 和 Terraform 生态中遇到的问题以及 KRM KCL 规范的概念、用户体验和实践。</p><p>当然，KCL 能够解决的问题和实践的场景远不止如此，受限于本文篇幅，我们后续会陆续分享社区中采用者的最佳实践，也欢迎大家加入我们的社区进行进一步交流和讨论 ❤️。<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="其他资源">其他资源<a href="#其他资源" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>更多其他资源请参考: </p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL 网站</a></li><li><a href="https://github.com/kcl-lang/" target="_blank" rel="noopener noreferrer">KCL GitHub 仓库</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack 网站</a></li><li><a href="https://github.com/KusionStack/" target="_blank" rel="noopener noreferrer">KusionStack GitHub 仓库</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><ul><li>[1]<!-- --> Forecast Analysis: Container Management (Software and Services), Worldwide: <a href="https://www.gartner.com/en/documents/3985796" target="_blank" rel="noopener noreferrer">https://www.gartner.com/en/documents/3985796</a></li><li>[2]<!-- --> The top programming languages: <a href="https://octoverse.github.com/2022/top-programming-languages" target="_blank" rel="noopener noreferrer">https://octoverse.github.com/2022/top-programming-languages</a></li><li>[3]<!-- --> Kubernetes 中的声明式应用管理: <a href="https://docs.google.com/document/d/1cLPGweVEYrVqQvBLJg6sxV-TrE5Rm2MNOBA_cxZP2WU/edit#" target="_blank" rel="noopener noreferrer">https://docs.google.com/document/d/1cLPGweVEYrVqQvBLJg6sxV-TrE5Rm2MNOBA_cxZP2WU/edit#</a></li><li>[4]<!-- --> CNCF 平台工程白皮书: <a href="https://tag-app-delivery.cncf.io/whitepapers/platforms/" target="_blank" rel="noopener noreferrer">https://tag-app-delivery.cncf.io/whitepapers/platforms/</a></li><li>[5]<!-- --> Google SRE 工作手册: <a href="https://sre.google/workbook/configuration-specifics/" target="_blank" rel="noopener noreferrer">https://sre.google/workbook/configuration-specifics/</a></li><li>[6]<!-- --> KCL 官方网站: <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/</a></li><li>[7]<!-- --> Kubectl: <a href="https://kubernetes.io/docs/reference/kubectl/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/reference/kubectl/</a></li><li>[8]<!-- --> KusionStack: <a href="https://kusionstack.io" target="_blank" rel="noopener noreferrer">https://kusionstack.io</a></li><li>[9]<!-- --> KubeVela: <a href="https://kubevela.net" target="_blank" rel="noopener noreferrer">https://kubevela.net</a></li><li>[10]<!-- --> Helmfile: <a href="https://github.com/helmfile/helmfile" target="_blank" rel="noopener noreferrer">https://github.com/helmfile/helmfile</a></li><li>[11]<!-- --> KRM KCL 规范: <a href="https://github.com/kcl-lang/krm-kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/krm-kcl</a></li><li>[12]<!-- --> KCL IDE 插件: <a href="https://kcl-lang.io/docs/tools/Ide/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/tools/Ide/</a></li><li>[13]<!-- --> ArtifactHub KCL 集成: <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">https://artifacthub.io/</a></li><li>[14]<!-- --> KCL Operator: <a href="https://github.com/kcl-lang/kcl-operator" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-operator</a></li><li>[15]<!-- --> Terraform KCL 策略代码化: <a href="https://kcl-lang.io/docs/user_docs/guides/%5B%5Dworking-with-terraform/validation" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/working-with-terraform/validation</a></li><li>[16]<!-- --> 使用 KCL 进行 GitOps: <a href="https://kcl-lang.io/docs/user_docs/guides/gitops/gitops-quick-start" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/gitops/gitops-quick-start</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/kcl">KCL</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/meeting">Meeting</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博客列表页面导航"><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/blog/tags/kcl/page/2"><div class="pagination-nav__label">上次更新</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/getting-started/intro">简介</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/guides">用户手册</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/reference/lang/tour">教程</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/support">常见问答</a></li></ul></div><div class="col footer__col"><div class="footer__title">资源</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/kusionstack/kcl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/blog">博客</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/community/intro">社区</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kusionstack.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">KusionStack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">版权 © 2023 KCL Authors</div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.66e9b8ae.js"></script>
<script src="/zh-CN/assets/js/main.4fd074a2.js"></script>
</body>
</html>