"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[30356],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,g=u["".concat(s,".").concat(d)]||u[d]||m[d]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},70195:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={slug:"2023-08-23-biweekly-newsletter",title:"KCL Biweekly Newsletter (2023 08.10 - 08.23) | KCL v0.5.3, v0.5.4 and v0.5.5 are out!",authors:{name:"KCL Team",title:"KCL Team"},tags:["KCL","Biweekly-Newsletter"]},i=void 0,l={permalink:"/blog/2023-08-23-biweekly-newsletter",editUrl:"https://github.com/kcl-lang/kcl-lang.io/tree/main/blog/2023-08-23-biweekly-newsletter/index.md",source:"@site/blog/2023-08-23-biweekly-newsletter/index.md",title:"KCL Biweekly Newsletter (2023 08.10 - 08.23) | KCL v0.5.3, v0.5.4 and v0.5.5 are out!",description:"KCL is an open-source, constraint-based record and functional language that enhances the writing of complex configurations, including those for cloud-native scenarios. With its advanced programming language technology and practices, KCL is dedicated to promoting better modularity, scalability, and stability for configurations. It enables simpler logic writing and offers ease of automation APIs and integration with homegrown systems.",date:"2023-08-23T00:00:00.000Z",formattedDate:"August 23, 2023",tags:[{label:"KCL",permalink:"/blog/tags/kcl"},{label:"Biweekly-Newsletter",permalink:"/blog/tags/biweekly-newsletter"}],readingTime:5.35,hasTruncateMarker:!1,authors:[{name:"KCL Team",title:"KCL Team"}],frontMatter:{slug:"2023-08-23-biweekly-newsletter",title:"KCL Biweekly Newsletter (2023 08.10 - 08.23) | KCL v0.5.3, v0.5.4 and v0.5.5 are out!",authors:{name:"KCL Team",title:"KCL Team"},tags:["KCL","Biweekly-Newsletter"]},prevItem:{title:"5-Minute Gameplay with Helmfile KCL Plugin for Easy Management of Kubernetes Helm Charts",permalink:"/blog/2023-08-31-helmfile-kcl-plugin"},nextItem:{title:"KCL Biweekly Newsletter (2023 07.26 - 08.09) | KCL v0.5.1 and v0.5.2 is out!",permalink:"/blog/2023-08-09-biweekly-newsletter"}},s={authorsImageUrls:[void 0]},p=[{value:"Overview",id:"overview",level:2},{value:"Special Thanks",id:"special-thanks",level:2},{value:"Featured Updates",id:"featured-updates",level:2},{value:"KCL Import Tool Updates",id:"kcl-import-tool-updates",level:3},{value:"KCL Vault Integration",id:"kcl-vault-integration",level:3},{value:"Community",id:"community",level:2},{value:"Resources",id:"resources",level:2}],c={toc:p},u="wrapper";function m(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(11556).Z,width:"1141",height:"435"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/kcl-lang"},"KCL")," is an open-source, constraint-based record and functional language that enhances the writing of complex configurations, including those for cloud-native scenarios. With its advanced programming language technology and practices, KCL is dedicated to promoting better modularity, scalability, and stability for configurations. It enables simpler logic writing and offers ease of automation APIs and integration with homegrown systems."),(0,r.kt)("p",null,"This section will update the KCL language community's latest developments every two weeks, including features, website updates, and the latest community news, helping everyone better understand the KCL community!"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"KCL Website: ",(0,r.kt)("a",{parentName:"em",href:"https://kcl-lang.io"},"https://kcl-lang.io")))),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Thank you to all contributors for their outstanding work over the past two weeks (08.10-08.23 2023). Here is an overview of the key content:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\ud83d\udd27 Language and Toolchain Updates")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL Formatting Tool Updates")," - Support for formatting code snippets with syntax errors and partial code snippets and automatic correction of indentation errors in configuration blocks."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL Documentation Tool Updates")," - Support for exporting document index pages"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL Import Tool Updates")," - Support for converting Terraform Provider Schema to KCL Schema"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL Export Tool Updates")," - Support for exporting OpenAPI Spec from KCL Schema, integrating with OpenAPI ecosystem"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL IDE Updates")," - Support for compilation cache feature to improve performance of some IDE features and providing rich error messages and import statement quick fix capabilities"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL Package Management Tool Updates")," - Support for output information experience optimization for the ",(0,r.kt)("inlineCode",{parentName:"li"},"kpm push")," command and adding duplicate tag check when pushing KCL package. Adding the ",(0,r.kt)("inlineCode",{parentName:"li"},"--vendor")," parameter for the ",(0,r.kt)("inlineCode",{parentName:"li"},"kpm push")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"kpm pkg")," commands to determine whether to package third-party libraries in KCL packages together"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"KCL Language Updates")," - Optimize Schema semantic check and union type check error messages and support for exporting type output of configuration blocks.")),(0,r.kt)("p",null,"\ud83c\udfc4 ",(0,r.kt)("strong",{parentName:"p"},"API Updates")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"KCL Schema model parsing GetSchemaType API newly added KCL package related information and schema attribute default values.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\ud83d\udcf0 Official Website and Use Case Updates")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"KCL package docker.io integration example: ",(0,r.kt)("em",{parentName:"li"},(0,r.kt)("a",{parentName:"em",href:"https://github.com/kcl-lang/kpm/blob/main/docs/publish_to_docker_reg.md"},"https://github.com/kcl-lang/kpm/blob/main/docs/publish_to_docker_reg.md"))),(0,r.kt)("li",{parentName:"ul"},"KCL Gitlab CI integration example: ",(0,r.kt)("em",{parentName:"li"},(0,r.kt)("a",{parentName:"em",href:"https://kcl-lang.io/docs/user_docs/guides/ci-integration/gitlab-ci"},"https://kcl-lang.io/docs/user_docs/guides/ci-integration/gitlab-ci"))),(0,r.kt)("li",{parentName:"ul"},"KCL Vault and Vals Integration example: ",(0,r.kt)("em",{parentName:"li"},(0,r.kt)("a",{parentName:"em",href:"https://kcl-lang.io/docs/user_docs/guides/secret-management/vault"},"https://kcl-lang.io/docs/user_docs/guides/secret-management/vault")))),(0,r.kt)("h2",{id:"special-thanks"},"Special Thanks"),(0,r.kt)("p",null,"The following are listed in no particular order:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Thanks to @jakezhu9 for the contribution of the KCL Import Tool Terraform Schema to KCL Schema conversion \ud83d\ude4c ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/kcl-lang/kcl-go/pull/141"},"https://github.com/kcl-lang/kcl-go/pull/141")),(0,r.kt)("li",{parentName:"ul"},"Thanks to @xxmao123 and @starkers for the discussion and contribution of the NeoVim KCL extension \ud83d\ude4c ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/kcl-lang/vim-kcl/pull/2"},"https://github.com/kcl-lang/vim-kcl/pull/2")),(0,r.kt)("li",{parentName:"ul"},"Thanks to @starkers for adding KCL installation support to the mason.nvim registry \ud83d\ude4c ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/mason-org/mason-registry/pull/2425"},"https://github.com/mason-org/mason-registry/pull/2425")),(0,r.kt)("li",{parentName:"ul"},"Thanks to @prahaladramji for upgrading and updating the KCL Homebrew installation script \ud83d\ude4c ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/kcl-lang/homebrew-tap/pull/1"},"https://github.com/kcl-lang/homebrew-tap/pull/1")),(0,r.kt)("li",{parentName:"ul"},"Thanks to @yamin-oanda for the discussion of Pulumi's official KCL support \ud83d\ude4c ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/pulumi/pulumi/discussions/13722"},"https://github.com/pulumi/pulumi/discussions/13722")),(0,r.kt)("li",{parentName:"ul"},"In addition, thanks to @nkabir, @mihaigalos, @prahaladramji, @yamin-oanda, @magick93, @MirKml, and others for their valuable feedback and discussions while using KCL in the past two weeks. \ud83d\ude4c")),(0,r.kt)("h2",{id:"featured-updates"},"Featured Updates"),(0,r.kt)("h3",{id:"kcl-import-tool-updates"},"KCL Import Tool Updates"),(0,r.kt)("p",null,"The KCL Import Tool now adds support for converting Terraform Provider Schema to KCL Schema based on Protobuf, JsonSchema OpenAPI models, and Go Structures, such as the following Terraform Provider Json (obtained through the command ",(0,r.kt)("inlineCode",{parentName:"p"},"terraform providers schema -json > provider.json")," , For more details, please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/terraform/cli/commands/providers/schema"},"https://developer.hashicorp.com/terraform/cli/commands/providers/schema"),")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "format_version": "0.2",\n    "provider_schemas": {\n        "registry.terraform.io/aliyun/alicloud": {\n            "provider": {\n                "version": 0,\n                "block": {\n                    "attributes": {},\n                    "block_types": {},\n                    "description_kind": "plain"\n                }\n            },\n            "resource_schemas": {\n                "alicloud_db_instance": {\n                    "version": 0,\n                    "block": {\n                        "attributes": {\n                            "db_instance_type": {\n                                "type": "string",\n                                "description_kind": "plain",\n                                "computed": true\n                            },\n                            "engine": {\n                                "type": "string",\n                                "description_kind": "plain",\n                                "required": true\n                            },\n                            "security_group_ids": {\n                                "type": [\n                                    "set",\n                                    "string"\n                                ],\n                                "description_kind": "plain",\n                                "optional": true,\n                                "computed": true\n                            },\n                            "security_ips": {\n                                "type": [\n                                    "set",\n                                    "string"\n                                ],\n                                "description_kind": "plain",\n                                "optional": true,\n                                "computed": true\n                            },\n                            "tags": {\n                                "type": [\n                                    "map",\n                                    "string"\n                                ],\n                                "description_kind": "plain",\n                                "optional": true\n                            }\n                        },\n                        "block_types": {},\n                        "description_kind": "plain"\n                    }\n                },\n                "alicloud_config_rule": {\n                    "version": 0,\n                    "block": {\n                        "attributes": {\n                            "compliance": {\n                                "type": [\n                                    "list",\n                                    [\n                                        "object",\n                                        {\n                                            "compliance_type": "string",\n                                            "count": "number"\n                                        }\n                                    ]\n                                ],\n                                "description_kind": "plain",\n                                "computed": true\n                            },\n                            "resource_types_scope": {\n                                "type": [\n                                    "list",\n                                    "string"\n                                ],\n                                "description_kind": "plain",\n                                "optional": true,\n                                "computed": true\n                            }\n                        }\n                    }\n                }\n            },\n            "data_source_schemas": {}\n        }\n    }\n}\n')),(0,r.kt)("p",null,"Then the tool can output the following KCL code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'"""\nThis file was generated by the KCL auto-gen tool. DO NOT EDIT.\nEditing this file might prove futile when you re-run the KCL auto-gen generate command.\n"""\n\nschema AlicloudConfigRule:\n    """\n    AlicloudConfigRule\n\n    Attributes\n    ----------\n    compliance: [ComplianceObject], optional\n    resource_types_scope: [str], optional\n    """\n\n    compliance?: [ComplianceObject]\n    resource_types_scope?: [str]\n\nschema ComplianceObject:\n    """\n    ComplianceObject\n\n    Attributes\n    ----------\n    compliance_type: str, optional\n    count: int, optional\n    """\n\n    compliance_type?: str\n    count?: int\n\nschema AlicloudDbInstance:\n    """\n    AlicloudDbInstance\n\n    Attributes\n    ----------\n    db_instance_type: str, optional\n    engine: str, required\n    security_group_ids: [str], optional\n    security_ips: [str], optional\n    tags: {str:str}, optional\n    """\n\n    db_instance_type?: str\n    engine: str\n    security_group_ids?: [str]\n    security_ips?: [str]\n    tags?: {str:str}\n\n    check:\n        isunique(security_group_ids)\n        isunique(security_ips)\n')),(0,r.kt)("h3",{id:"kcl-vault-integration"},"KCL Vault Integration"),(0,r.kt)("p",null,"In just three steps, we can use Vault to store and manage sensitive information and use it in KCL."),(0,r.kt)("p",null,"Firstly, we install and use ",(0,r.kt)("inlineCode",{parentName:"p"},"Vault")," to store ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"bar")," information"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"vault kv put secret/foo foo=foo\nvault kv put secret/bar bar=bar\n")),(0,r.kt)("p",null,"Then write the following KCL code (main.k)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'apiVersion = "apps/v1"\nkind = "Deployment"\nmetadata = {\n    name = "nginx"\n    labels.app = "nginx"\n    annotations: {\n        "secret-store": "vault"\n        # Valid format:\n        #  "ref+vault://PATH/TO/KV_BACKEND#/KEY"\n        "foo": "ref+vault://secret/foo#/foo"\n        "bar": "ref+vault://secret/bar#/bar"\n    }\n}\nspec = {\n    replicas = 3\n    selector.matchLabels = metadata.labels\n    template.metadata.labels = metadata.labels\n    template.spec.containers = [\n        {\n            name = metadata.name\n            image = "${metadata.name}:1.14.2"\n            ports = [{ containerPort = 80 }]\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"Finally, the decrypted configuration can be obtained through the ",(0,r.kt)("inlineCode",{parentName:"p"},"Vals")," command-line tool"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"kcl main.k | vals eval -f -\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"For more details and use cases, please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://kcl-lang.io/docs/user_docs/guides/secret-management/vault"},"https://kcl-lang.io/docs/user_docs/guides/secret-management/vault"))),(0,r.kt)("h2",{id:"community"},"Community"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\ud83c\udf89 Congratulations to Zhu Junxing from Huazhong University of Science and Technology for successfully passing the mid-term assessment of the Gitlink Coding Summer Camp (GLCC) and completing the conversion of KCL Import tool Jsonschema and Terraform Provider Schema to KCL Schema. The community will grant him the KCL Community Maintainer role in the future."),(0,r.kt)("li",{parentName:"ul"},"\ud83d\udcbb KCL participated in the CNCF TAG Application Delivery community meeting and reported on the project.")),(0,r.kt)("h2",{id:"resources"},"Resources"),(0,r.kt)("p",null,"\u2764\ufe0f Thanks to all KCL users and community members for their valuable feedback and suggestions in the community. We will write more articles on the new features of KCL v0.5.x, so stay tuned!"),(0,r.kt)("p",null,"For more resources, please refer to"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://kcl-lang.io/"},"KCL Website"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://kusionstack.io/"},"KusionStack Website"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://kcl-lang.io/docs/community/release-policy/roadmap"},"KCL 2023 Roadmap"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/kcl-lang/kcl/milestone/6"},"KCL v0.6.0 Milestone"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/kcl-lang/kcl/issues"},"KCL Github Issues"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/orgs/kcl-lang/discussions"},"KCL Github Discussion"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/kcl-lang/community"},"KCL Community")))))}m.isMDXComponent=!0},11556:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/biweekly-newsletter-9d6bf596d15ee9a7645130bde27ed5f7.png"}}]);